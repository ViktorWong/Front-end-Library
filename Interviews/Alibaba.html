<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01.阿里篇 | Full-Stack Library</title>
    <meta name="description" content="前端图书馆">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.bbc6ecfa.css" as="style"><link rel="preload" href="/assets/js/app.a9b48c8f.js" as="script"><link rel="preload" href="/assets/js/14.03a2b796.js" as="script"><link rel="prefetch" href="/assets/js/10.19e274a5.js"><link rel="prefetch" href="/assets/js/11.2ec2a5d8.js"><link rel="prefetch" href="/assets/js/12.89e0317d.js"><link rel="prefetch" href="/assets/js/13.f33dc00e.js"><link rel="prefetch" href="/assets/js/15.d5471066.js"><link rel="prefetch" href="/assets/js/16.c88b4c36.js"><link rel="prefetch" href="/assets/js/17.02b91c81.js"><link rel="prefetch" href="/assets/js/18.23af651a.js"><link rel="prefetch" href="/assets/js/19.d71545d9.js"><link rel="prefetch" href="/assets/js/2.854dcf62.js"><link rel="prefetch" href="/assets/js/20.f6145b83.js"><link rel="prefetch" href="/assets/js/21.e6e43be9.js"><link rel="prefetch" href="/assets/js/22.c27ea19e.js"><link rel="prefetch" href="/assets/js/23.e51c86bd.js"><link rel="prefetch" href="/assets/js/24.7a6320fc.js"><link rel="prefetch" href="/assets/js/25.914d5bc4.js"><link rel="prefetch" href="/assets/js/26.0f992f80.js"><link rel="prefetch" href="/assets/js/27.af39b039.js"><link rel="prefetch" href="/assets/js/28.0e1f9315.js"><link rel="prefetch" href="/assets/js/29.4af562c9.js"><link rel="prefetch" href="/assets/js/3.d821ca83.js"><link rel="prefetch" href="/assets/js/30.45754657.js"><link rel="prefetch" href="/assets/js/31.85cce921.js"><link rel="prefetch" href="/assets/js/32.1e4a4318.js"><link rel="prefetch" href="/assets/js/4.2de3fa39.js"><link rel="prefetch" href="/assets/js/5.9ad96352.js"><link rel="prefetch" href="/assets/js/6.69677b65.js"><link rel="prefetch" href="/assets/js/7.3d1d6b24.js"><link rel="prefetch" href="/assets/js/8.da26485a.js"><link rel="prefetch" href="/assets/js/9.0cca4a29.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bbc6ecfa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Full-Stack Library</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Interviews/" class="nav-link router-link-active">面试专栏</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础进阶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link">深入 JavaScript</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">深入 CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">主流框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">Vue专栏</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">React专栏</a></li><li class="dropdown-item"><!----> <a href="/Applets/" class="nav-link">小程序专栏</a></li><li class="dropdown-item"><!----> <a href="/Wechat/" class="nav-link">微信公众号</a></li><li class="dropdown-item"><!----> <a href="/Hybrid/" class="nav-link">Hybrid开发专栏</a></li></ul></div></div> <a href="https://github.com/ViktorWong/Full-Stack-Library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/Interviews/" class="nav-link router-link-active">面试专栏</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础进阶</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Js/" class="nav-link">深入 JavaScript</a></li><li class="dropdown-item"><!----> <a href="/CSS/" class="nav-link">深入 CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">主流框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Vue/" class="nav-link">Vue专栏</a></li><li class="dropdown-item"><!----> <a href="/React/" class="nav-link">React专栏</a></li><li class="dropdown-item"><!----> <a href="/Applets/" class="nav-link">小程序专栏</a></li><li class="dropdown-item"><!----> <a href="/Wechat/" class="nav-link">微信公众号</a></li><li class="dropdown-item"><!----> <a href="/Hybrid/" class="nav-link">Hybrid开发专栏</a></li></ul></div></div> <a href="https://github.com/ViktorWong/Full-Stack-Library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="my-ad"><img src="/zhifubao.png" width="48%" style="border-radius:3px;opacity:0.9;"> <img src="/weixin.png" width="48%" style="border-radius:3px;opacity:0.9;"> <div align="center" class="ad-mark">若你觉得很赞, 可以请我喝果汁 🍹</div></div> <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>面试专栏</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/Interviews/Alibaba.html" aria-current="page" class="active sidebar-link">01.阿里篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q1：如何实现一个高效的单向链表逆序输出？" class="sidebar-link">Q1：如何实现一个高效的单向链表逆序输出？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q2：已知-sqrt-2-约等于-1-414，要求不用数学库，求-sqrt-2-精确到小数点后-10-位。" class="sidebar-link">Q2：已知 sqrt (2)约等于 1.414，要求不用数学库，求 sqrt (2)精确到小数点后 10 位。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q3：给定一个二叉搜索树-bst-，找到树中第-k-小的节点。" class="sidebar-link">Q3：给定一个二叉搜索树(BST)，找到树中第 K 小的节点。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q4：lru-缓存机制" class="sidebar-link">Q4：LRU 缓存机制</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q5：关于-epoll-和-select-的区别，哪些说法是正确的？（多选）" class="sidebar-link">Q5：关于 epoll 和 select 的区别，哪些说法是正确的？（多选）</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q6：从-innodb-的索引结构分析，为什么索引的-key-长度不能太长？" class="sidebar-link">Q6：从 innodb 的索引结构分析，为什么索引的 key 长度不能太长？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q7：mysql-的数据如何恢复到任意时间点？" class="sidebar-link">Q7：MySQL 的数据如何恢复到任意时间点？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q8：nfs-和-smb-是最常见的两种-nas（network-attached-storage）协议，当把一个文件系统同时通过-nfs-和-smb-协议共享给多个主机访问时，以下哪些说法是错误的：（多选）" class="sidebar-link">Q8：NFS 和 SMB 是最常见的两种 NAS（Network Attached Storage）协议，当把一个文件系统同时通过 NFS 和 SMB 协议共享给多个主机访问时，以下哪些说法是错误的：（多选）</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q9：输入-ping-ip-后敲回车，发包前会发生什么？" class="sidebar-link">Q9：输入 ping IP 后敲回车，发包前会发生什么？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q10：请解释下为什么鹿晗发布恋情的时候，微博系统会崩溃，如何解决？" class="sidebar-link">Q10：请解释下为什么鹿晗发布恋情的时候，微博系统会崩溃，如何解决？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q11：现有一批邮件需要发送给订阅顾客，且有一个集群（集群的节点数不定，会动态扩容缩容）来负责具体的邮件发送任务，如何让系统尽快地完成发送？请详述技术方案！" class="sidebar-link">Q11：现有一批邮件需要发送给订阅顾客，且有一个集群（集群的节点数不定，会动态扩容缩容）来负责具体的邮件发送任务，如何让系统尽快地完成发送？请详述技术方案！</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q12：有一批气象观测站，现需要获取这些站点的观测数据，并存储到-hive-中。但是气象局只提供了-api-查询，每次只能查询单个观测点。那么如果能够方便快速地获取到所有的观测点的数据？" class="sidebar-link">Q12：有一批气象观测站，现需要获取这些站点的观测数据，并存储到 Hive 中。但是气象局只提供了 api 查询，每次只能查询单个观测点。那么如果能够方便快速地获取到所有的观测点的数据？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q13：如何实现两金额数据相加（最多小数点两位）？" class="sidebar-link">Q13：如何实现两金额数据相加（最多小数点两位）？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q14：-关于并行计算的一些基础开放问题。" class="sidebar-link">Q14： 关于并行计算的一些基础开放问题。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q15：请计算xilinx公司vu9p芯片的算力相当于多少tops，给出计算过程与公式。" class="sidebar-link">Q15：请计算XILINX公司VU9P芯片的算力相当于多少TOPS，给出计算过程与公式。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q16：一颗现代处理器，每秒大概可以执行多少条简单的mov指令，有哪些主要的影响因素？" class="sidebar-link">Q16：一颗现代处理器，每秒大概可以执行多少条简单的MOV指令，有哪些主要的影响因素？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q17：请分析-maxcompute-产品与分布式技术的关系、当前大数据计算平台类产品的市场现状和发展趋势。" class="sidebar-link">Q17：请分析 MaxCompute 产品与分布式技术的关系、当前大数据计算平台类产品的市场现状和发展趋势。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q18：-对大数据平台中的元数据管理是怎么理解的，元数据收集管理体系是怎么样的，会对大数据应用有什么样的影响。" class="sidebar-link">Q18： 对大数据平台中的元数据管理是怎么理解的，元数据收集管理体系是怎么样的，会对大数据应用有什么样的影响。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q19：-你理解常见如阿里，和友商大数据平台的技术体系差异以及发展趋势和技术瓶颈，在存储和计算两个方面进行概述。" class="sidebar-link">Q19： 你理解常见如阿里，和友商大数据平台的技术体系差异以及发展趋势和技术瓶颈，在存储和计算两个方面进行概述。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q20：在云计算大数据处理场景中，每天运行着成千上万的任务，每个任务都要进行-io-读写。存储系统为了更好的服务，经常会保证高优先级的任务优先执行。当多个作业或用户访问存储系统时，如何保证优先级和公平性。" class="sidebar-link">Q20：在云计算大数据处理场景中，每天运行着成千上万的任务，每个任务都要进行 IO 读写。存储系统为了更好的服务，经常会保证高优先级的任务优先执行。当多个作业或用户访问存储系统时，如何保证优先级和公平性。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q21：最大频率栈。" class="sidebar-link">Q21：最大频率栈。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q22：给定一个链表，删除链表的倒数第-n-个节点，并且返回链表的头结点。" class="sidebar-link">Q22：给定一个链表，删除链表的倒数第 N 个节点，并且返回链表的头结点。</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q23：如果让你设计一个通用的、支持各种数据库秒级备份和恢复的系统，你会如何设计？" class="sidebar-link">Q23：如果让你设计一个通用的、支持各种数据库秒级备份和恢复的系统，你会如何设计？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q24：如果让你来设计一个支持数据库、nosql-和大数据之间数据实时流动的数据流及处理的系统，你会考虑哪些问题？如何设计？" class="sidebar-link">Q24：如果让你来设计一个支持数据库、NOSQL 和大数据之间数据实时流动的数据流及处理的系统，你会考虑哪些问题？如何设计？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q25：给定一个整数数组和一个整数，返回两个数组的索引，这两个索引指向的数字的加和等于指定的整数。需要最优的算法，分析算法的空间和时间复杂度" class="sidebar-link">Q25：给定一个整数数组和一个整数，返回两个数组的索引，这两个索引指向的数字的加和等于指定的整数。需要最优的算法，分析算法的空间和时间复杂度</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q26：假如给你一个新产品，你将从哪些方面来保障它的质量？" class="sidebar-link">Q26：假如给你一个新产品，你将从哪些方面来保障它的质量？</a></li><li class="sidebar-sub-header"><a href="/Interviews/Alibaba.html#q27：请评估一下程序的执行结果？" class="sidebar-link">Q27：请评估一下程序的执行结果？</a></li></ul></li><li><a href="/Interviews/" aria-current="page" class="sidebar-link">00.数据库篇</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="_01-阿里篇"><a href="#_01-阿里篇" class="header-anchor">#</a> 01.阿里篇</h1> <h2 id="q1：如何实现一个高效的单向链表逆序输出？"><a href="#q1：如何实现一个高效的单向链表逆序输出？" class="header-anchor">#</a> Q1：如何实现一个高效的单向链表逆序输出？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：昀龙／阿里云弹性人工智能负责人</p> <p><strong>参考答案</strong>：下面是其中一种写法，也可以有不同的写法，比如递归等。供参考。</p> <div class="language- extra-class"><pre class="language-text"><code>typedef struct node{
    int           data;
    struct node*  next;
    node(int d):data(d), next(NULL){}
}node;

void reverse(node* head)
{
    if(NULL == head || NULL == head-&gt;next){
        return;
    }
    
    node* prev=NULL;
    node* pcur=head-&gt;next;
    node* next;
    
    while(pcur!=NULL){
        if(pcur-&gt;next==NULL){
            pcur-&gt;next=prev;
            break;
        }
        next=pcur-&gt;next;
        pcur-&gt;next=prev;
        prev=pcur;
        pcur=next;
    }
    
    head-&gt;next=pcur;
    node*tmp=head-&gt;next;
    while(tmp!=NULL){
        cout&lt;&lt;tmp-&gt;data&lt;&lt;&quot;\t&quot;;
        tmp=tmp-&gt;next;
    }
}

</code></pre></div><h2 id="q2：已知-sqrt-2-约等于-1-414，要求不用数学库，求-sqrt-2-精确到小数点后-10-位。"><a href="#q2：已知-sqrt-2-约等于-1-414，要求不用数学库，求-sqrt-2-精确到小数点后-10-位。" class="header-anchor">#</a> Q2：已知 sqrt (2)约等于 1.414，要求不用数学库，求 sqrt (2)精确到小数点后 10 位。</h2> <p><strong>出题人</strong>：——阿里巴巴出题专家：文景／阿里云 CDN 资深技术专家</p> <p><strong>参考答案</strong>：</p> <h4 id="考察点"><a href="#考察点" class="header-anchor">#</a> * 考察点</h4> <ol><li>基础算法的灵活应用能力（二分法学过数据结构的同学都知道，但不一定往这个方向考虑；如果学过数值计算的同学，应该还要能想到牛顿迭代法并解释清楚）</li> <li>退出条件设计</li></ol> <h4 id="解决办法"><a href="#解决办法" class="header-anchor">#</a> * 解决办法</h4> <h5 id="_1-已知-sqrt-2-约等于-1-414，那么就可以在-1-4-1-5-区间做二分"><a href="#_1-已知-sqrt-2-约等于-1-414，那么就可以在-1-4-1-5-区间做二分" class="header-anchor">#</a> 1. 已知 sqrt(2)约等于 1.414，那么就可以在(1.4, 1.5)区间做二分</h5> <p>查找，如：
a) high=&gt;1.5
b) low=&gt;1.4
c) mid =&gt; (high+low)/2=1.45
d) 1.45*1.45&gt;2 ? high=&gt;1.45 : low =&gt; 1.45
e) 循环到 c)</p> <h5 id="_2-退出条件"><a href="#_2-退出条件" class="header-anchor">#</a> 2. 退出条件</h5> <p>a) 前后两次的差值的绝对值&lt;=0.0000000001, 则可退出</p> <div class="language- extra-class"><pre class="language-text"><code>const double EPSILON = 0.0000000001;

double sqrt2() {
    double low = 1.4, high = 1.5;
    double mid = (low + high) / 2;

    while (high - low &gt; EPSILON) {
        if (mid * mid &gt; 2) {
            high = mid;
        } else {
            low = mid;
        }
        mid = (high + low) / 2;
    }

    return mid;
}
</code></pre></div><h2 id="q3：给定一个二叉搜索树-bst-，找到树中第-k-小的节点。"><a href="#q3：给定一个二叉搜索树-bst-，找到树中第-k-小的节点。" class="header-anchor">#</a> Q3：给定一个二叉搜索树(BST)，找到树中第 K 小的节点。</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：文景／阿里云 CDN 资深技术专家</p> <p><strong>参考答案</strong>：</p> <h5 id="考察点-2"><a href="#考察点-2" class="header-anchor">#</a> * 考察点</h5> <ol><li>基础数据结构的理解和编码能力</li> <li>递归使用</li></ol> <h5 id="示例"><a href="#示例" class="header-anchor">#</a> * 示例</h5> <div class="language- extra-class"><pre class="language-text"><code>       5
      / \
     3   6
    / \
   2   4
  /
 1
 
</code></pre></div><p>说明：保证输入的 K 满足 1&lt;=K&lt;=(节点数目）</p> <p>树相关的题目，第一眼就想到递归求解，左右子树分别遍历。联想到二叉搜索树的性质，root 大于左子树，小于右子树，如果左子树的节点数目等于 K-1，那么 root 就是结果，否则如果左子树节点数目小于 K-1，那么结果必然在右子树，否则就在左子树。因此在搜索的时候同时返回节点数目，跟 K 做对比，就能得出结果了。</p> <div class="language- extra-class"><pre class="language-text"><code>/**
 * Definition for a binary tree node.
 **/

public class TreeNode {
    int val;
    TreeNode left;
    TreeNode right;
    TreeNode(int x) { val = x; }
}

class Solution {
    private class ResultType {
    
        boolean found;  // 是否找到
        
        int val;  // 节点数目
        ResultType(boolean found, int val) {
            this.found = found;
            this.val = val;
        }
    }

    public int kthSmallest(TreeNode root, int k) {
        return kthSmallestHelper(root, k).val;
    }

    private ResultType kthSmallestHelper(TreeNode root, int k) {
        if (root == null) {
            return new ResultType(false, 0);
        }

        ResultType left = kthSmallestHelper(root.left, k);

        // 左子树找到，直接返回
        if (left.found) {
            return new ResultType(true, left.val);
        }

        // 左子树的节点数目 = K-1，结果为 root 的值
        if (k - left.val == 1) {
            return new ResultType(true, root.val);
        }

        // 右子树寻找
        ResultType right = kthSmallestHelper(root.right, k - left.val - 1);
        if (right.found) {
            return new ResultType(true, right.val);
        }

        // 没找到，返回节点总数
        return new ResultType(false, left.val + 1 + right.val);
    }
}

</code></pre></div><h2 id="q4：lru-缓存机制"><a href="#q4：lru-缓存机制" class="header-anchor">#</a> Q4：LRU 缓存机制</h2> <p>设计和实现一个 LRU（最近最少使用）缓存数据结构，使它应该支持一下操作：get 和 put。
get(key) - 如果 key 存在于缓存中，则获取 key 的 value（总是正数），否则返回 -1。
put(key,value) - 如果 key 不存在，请设置或插入 value。当缓存达到其容量时，它应该在插入新项目之前使最近最少使用的项目作废。</p> <p><strong>出题人</strong>：文景／阿里云 CDN 资深技术专家</p> <p><strong>参考答案</strong>：</p> <p>python版本的：</p> <div class="language- extra-class"><pre class="language-text"><code>class LRUCache(object):
    def __init__(self, capacity):
    &quot;&quot;&quot;
    :type capacity: int
    &quot;&quot;&quot;
    self.cache = {}
    self.keys = []
    self.capacity = capacity
    
    def visit_key(self, key):
        if key in self.keys:
            self.keys.remove(key)
        self.keys.append(key)
    
    def elim_key(self):
        key = self.keys[0]
        self.keys = self.keys[1:]
        del self.cache[key]
        
    def get(self, key):
        &quot;&quot;&quot;
        :type key: int
        :rtype: int
        &quot;&quot;&quot;
        if not key in self.cache:
            return -1
        self.visit_key(key)
        return self.cache[key]
    
    def put(self, key, value):
        &quot;&quot;&quot;
        :type key: int
        :type value: int
        :rtype: void
        &quot;&quot;&quot;
        if not key in self.cache:
        if len(self.keys) == self.capacity:
        self.elim_key()
        self.cache[key] = value
        self.visit_key(key)

def main():
    s =
    [[&quot;put&quot;,&quot;put&quot;,&quot;get&quot;,&quot;put&quot;,&quot;get&quot;,&quot;put&quot;,&quot;get&quot;,&quot;get&quot;,&quot;get&quot;],[[1,1],[2,2],[1],[3,3],[2],[
    4,4],[1],[3],[4]]]
    obj = LRUCache(2)
    l=[]
    for i,c in enumerate(s[0]):
        if(c == &quot;get&quot;):
            l.append(obj.get(s[1][i][0]))
        else:
            obj.put(s[1][i][0], s[1][i][1])
    print(l)

if __name__ == &quot;__main__&quot;:
    main()

</code></pre></div><p>c++版本的：</p> <div class="language- extra-class"><pre class="language-text"><code>class LRUCache{
    public:
        LRUCache(int capacity) {
            cap = capacity;
        }
        
        int get(int key) {
            auto it = m.find(key);
            if (it == m.end()) return -1;
            l.splice(l.begin(), l, it-&gt;second);
            return it-&gt;second-&gt;second;
        }
        
        void set(int key, int value) {
            auto it = m.find(key);
            if (it != m.end()) l.erase(it-&gt;second);
            l.push_front(make_pair(key, value));
            m[key] = l.begin();
            if (m.size() &gt; cap) {
                int k = l.rbegin()-&gt;first;
                l.pop_back();
                m.erase(k);
            }
        }
}

</code></pre></div><h2 id="q5：关于-epoll-和-select-的区别，哪些说法是正确的？（多选）"><a href="#q5：关于-epoll-和-select-的区别，哪些说法是正确的？（多选）" class="header-anchor">#</a> Q5：关于 epoll 和 select 的区别，哪些说法是正确的？（多选）</h2> <p>A. epoll 和 select 都是 I/O 多路复用的技术，都可以实现同时监听多个 I/O 事件的状态。</p> <p>B. epoll 相比 select 效率更高，主要是基于其操作系统支持的I/O事件通知机制，而 select 是基于轮询机制。</p> <p>C. epoll 支持水平触发和边沿触发两种模式。</p> <p>D. select 能并行支持 I/O 比较小，且无法修改。</p> <p><strong>出题人</strong>：阿里巴巴出题专家：寈峰／阿里技术专家</p> <p><strong>参考答案</strong>：A，B，C</p> <p><strong>【延伸】那在高并发的访问下，epoll使用那一种触发方式要高效些？当使用边缘触发的时候要注意些什么东西？</strong></p> <h2 id="q6：从-innodb-的索引结构分析，为什么索引的-key-长度不能太长？"><a href="#q6：从-innodb-的索引结构分析，为什么索引的-key-长度不能太长？" class="header-anchor">#</a> Q6：从 innodb 的索引结构分析，为什么索引的 key 长度不能太长？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：近秋／阿里云数据库产品技术部技术专家</p> <p><strong>参考答案</strong>：key 太长会导致一个页当中能够存放的 key 的数目变少，间接导致索引树的页数目变多，索引层次增加，从而影响整体查询变更的效率。</p> <h2 id="q7：mysql-的数据如何恢复到任意时间点？"><a href="#q7：mysql-的数据如何恢复到任意时间点？" class="header-anchor">#</a> Q7：MySQL 的数据如何恢复到任意时间点？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：近秋／阿里云数据库产品技术部技术专家参考答案</p> <p><strong>参考答案</strong>：恢复到任意时间点以定时的做全量备份，以及备份增量的 binlog 日志为前提。恢复到任意时间点首先将全量备份恢复之后，再此基础上回放增加的 binlog 直至指定的时间点。</p> <h2 id="q8：nfs-和-smb-是最常见的两种-nas（network-attached-storage）协议，当把一个文件系统同时通过-nfs-和-smb-协议共享给多个主机访问时，以下哪些说法是错误的：（多选）"><a href="#q8：nfs-和-smb-是最常见的两种-nas（network-attached-storage）协议，当把一个文件系统同时通过-nfs-和-smb-协议共享给多个主机访问时，以下哪些说法是错误的：（多选）" class="header-anchor">#</a> Q8：NFS 和 SMB 是最常见的两种 NAS（Network Attached Storage）协议，当把一个文件系统同时通过 NFS 和 SMB 协议共享给多个主机访问时，以下哪些说法是错误的：（多选）</h2> <p>A. 不可能有这样的操作，即把一个文件系统同时通过 NFS 和 SMB协议共享给多个主机访问。</p> <p>B. 主机 a 的用户通过NFS 协议创建的文件或者目录，另一个主机 b的用户不能通过 SMB 协议将其删除。</p> <p>C. 在同一个目录下，主机 a 通过 NFS 协议看到文件 file.txt，主机b 通过 SMB 协议也看到文件 file.txt，那么它们是同一个文件。</p> <p>D. 主机 a 通过 NFS 协议，以及主机 b 通过 SMB 协议，都可以通过主机端的数据缓存，提升文件访问性能。</p> <p><strong>出题人</strong>：阿里巴巴出题专家：起影／阿里云文件存储高级技术专家</p> <p><strong>参考答案</strong>：A，B，C</p> <h2 id="q9：输入-ping-ip-后敲回车，发包前会发生什么？"><a href="#q9：输入-ping-ip-后敲回车，发包前会发生什么？" class="header-anchor">#</a> Q9：输入 ping IP 后敲回车，发包前会发生什么？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：怀虎／阿里云云效平台负责人</p> <p><strong>参考答案</strong>：
首先根据目的IP和路由表决定走哪个网卡，再根据网卡的子网掩码地址判断目的IP是否在子网内。如果不在则会通过arp缓存查询IP的网卡地址，不存在的话会通过广播询问目的IP的mac地址，得到后就开始发包了，同时mac地址也会被arp缓存起来。</p> <h2 id="q10：请解释下为什么鹿晗发布恋情的时候，微博系统会崩溃，如何解决？"><a href="#q10：请解释下为什么鹿晗发布恋情的时候，微博系统会崩溃，如何解决？" class="header-anchor">#</a> Q10：请解释下为什么鹿晗发布恋情的时候，微博系统会崩溃，如何解决？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：江岚／阿里巴巴数据技术高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>A. 获取微博通过 pull 方式还是 push 方式</p> <p>B. 发布微博的频率要远小于阅读微博</p> <p>C. 流量明星的发微博，和普通博主要区分对待，比如在 sharding的时候，也要考虑这个因素</p> <h2 id="q11：现有一批邮件需要发送给订阅顾客，且有一个集群（集群的节点数不定，会动态扩容缩容）来负责具体的邮件发送任务，如何让系统尽快地完成发送？请详述技术方案！"><a href="#q11：现有一批邮件需要发送给订阅顾客，且有一个集群（集群的节点数不定，会动态扩容缩容）来负责具体的邮件发送任务，如何让系统尽快地完成发送？请详述技术方案！" class="header-anchor">#</a> Q11：现有一批邮件需要发送给订阅顾客，且有一个集群（集群的节点数不定，会动态扩容缩容）来负责具体的邮件发送任务，如何让系统尽快地完成发送？请详述技术方案！</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：江岚／阿里巴巴数据技术高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>A. 借助消息中间件，通过发布者订阅者模式来进行任务分配</p> <p>B. master-slave 部署，由 master 来分配任务</p> <p>C. 不借助任何中间件，且所有节点均等。通过数据库的 update-returning，从而实现节点之间任务的互斥</p> <h2 id="q12：有一批气象观测站，现需要获取这些站点的观测数据，并存储到-hive-中。但是气象局只提供了-api-查询，每次只能查询单个观测点。那么如果能够方便快速地获取到所有的观测点的数据？"><a href="#q12：有一批气象观测站，现需要获取这些站点的观测数据，并存储到-hive-中。但是气象局只提供了-api-查询，每次只能查询单个观测点。那么如果能够方便快速地获取到所有的观测点的数据？" class="header-anchor">#</a> Q12：有一批气象观测站，现需要获取这些站点的观测数据，并存储到 Hive 中。但是气象局只提供了 api 查询，每次只能查询单个观测点。那么如果能够方便快速地获取到所有的观测点的数据？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：江岚／阿里巴巴数据技术高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>A. 通过 shell 或 python 等调用 api，结果先暂存本地，最后将本地文件上传到 Hive 中。</p> <p>B. 通过 datax 的 httpReader 和 hdfsWriter 插件，从而获取所需的数据。</p> <p>C. 比较理想的回答，是在计算引擎的 UDF 中调用查询 api，执行UDF 的查询结果存储到对应的表中。一方面，不需要同步任务的导出导入；另一方面，计算引擎的分布式框架天生提供了分布式、容错、并发等特性。</p> <h2 id="q13：如何实现两金额数据相加（最多小数点两位）？"><a href="#q13：如何实现两金额数据相加（最多小数点两位）？" class="header-anchor">#</a> Q13：如何实现两金额数据相加（最多小数点两位）？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：御术／蚂蚁金服数据可视化高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>其实问题并不难，就是考察候选人对 JavaScript 数据运算上的认知以及考虑问题的缜密程度，有很多坑，可以用在笔试题，如果用在面试，回答过程中还可以随机加入有很多计算机基础的延伸。</p> <p>回到这个问题，由于直接浮点相与加会失精，所以要转整数；（可以插入问遇到过吗？是否可以举个例子？）。</p> <p>转整数是第一个坑，虽然只有两位可以通过乘以100转整数，但由于乘以一百和除以一百都会出现浮点数的运算，所以也会失精，还是要通过字符串来转；（可以插入问字符串转整数有几种方式？）字符串转整是第二个坑，因为最后要对齐计算，如果没考虑周全先toFixed(2)，对于只有一位小数点数据进入计算就会错误；转整数后的计算是个加分点，很多同学往往就是直接算了，如果可以考虑大数计算的场景，恭喜同学进入隐藏关卡，这就会涉及如何有效循环、遍历、算法复杂度的问题。</p> <h2 id="q14：-关于并行计算的一些基础开放问题。"><a href="#q14：-关于并行计算的一些基础开放问题。" class="header-anchor">#</a> Q14： 关于并行计算的一些基础开放问题。</h2> <p>◼ 如何定义并计算，请分别阐述分布式内存到共享内存模式行编程的区别和实现（例子代码）？</p> <p>◼ 请使用 MPI 和 OpenMP 分别实现 N 个处理器对 M 个变量的求和？</p> <p>◼ 请说明 SIMD 指令在循环中使用的权限？向量化优化有哪些手段？</p> <p>◼ 请用 Amdahl 定律说明什么是并行效率以及并行算法的扩展性？并说明扩展性的性能指标和限制因素，最后请说明在共享内存计算机中，共享内存的限制？OpenMP 是怎样实现共享内存编程环境的？MPI 阻塞和非阻塞读写的区别？</p> <p><strong>出题人</strong>：阿里巴巴出题专家：何万青／阿里云高性能计算资深技术专家</p> <p><strong>参考答案</strong>：</p> <p>（简要答案，但必须触及，可以展开）
◼ 同时执行多个/算法/逻辑操作/内存访问/IO，相互独立同时运行，分三个层次：进程级，多个节点分布式内存通过MPI通信并行；线程级，共享内存的多路机器，通过OpenMP实现多线程并行；指令集：通过SIM指令实现单指令多数据。。。。举例吧啦吧啦。</p> <p>◼ MPI代码，，，OpenMP代码，分别写出来 M个元素，N个处理器的累加，后者注意private 参数。</p> <p>◼ SIMD在循环中的应用，限制在于 SIMD指令处理的每一个数组的长度，cache line利用，内部循环间的依赖和条件调用等。</p> <p>◼ 向量化，主要看SSE和AVX指令占比率，通过编译器优化...... 在loop代码中使用。</p> <p>◼ 性能和计算规模随处理器增加的变化曲线，实测HPL和峰值HPL比率，能用用Amdahl定律表达Tpar(N) = (an + (1-a)n/N )t + C (n,N), 能够讲明白串行部分对整个并行的天花板效应，扩展性能够解释清楚算法的扩展性=并行效率随处理器数目的变化关系，画出来。</p> <p>◼ 共享内存计算机OpenMP对变量的限制描述，EREW，CREW，ERCW，CRCW等区别，NUMA概念，如何保持coherent等。</p> <p>◼ 写出OpenMP和MPI的核心函数，回答问题即可。</p> <h2 id="q15：请计算xilinx公司vu9p芯片的算力相当于多少tops，给出计算过程与公式。"><a href="#q15：请计算xilinx公司vu9p芯片的算力相当于多少tops，给出计算过程与公式。" class="header-anchor">#</a> Q15：请计算XILINX公司VU9P芯片的算力相当于多少TOPS，给出计算过程与公式。</h2> <p><strong>出题人</strong>： 阿里巴巴出题专家：隐达／阿里云异构计算资深专家</p> <p><strong>参考答案</strong>：基于不同的算法，这个值在十几到几百之间。但是，如果只是单纯比算力，FPGA和ASIC、GPU相比并无太大优势，甚至大多时候有较大劣势。FPGA的优势在于高度的灵活性和算法的针对性。</p> <h2 id="q16：一颗现代处理器，每秒大概可以执行多少条简单的mov指令，有哪些主要的影响因素？"><a href="#q16：一颗现代处理器，每秒大概可以执行多少条简单的mov指令，有哪些主要的影响因素？" class="header-anchor">#</a> Q16：一颗现代处理器，每秒大概可以执行多少条简单的MOV指令，有哪些主要的影响因素？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：子团／创新产品虚拟化&amp;稳定性资深技术专家</p> <p><strong>参考答案</strong>：</p> <ul><li><p><strong>及格：</strong>
每执行一条mov指令需要消耗1个时钟周期，所以每秒执行的mov指令和CPU主频相关。</p></li> <li><p><strong>加分：</strong>
在CPU微架构上，要考虑数据预取，乱序执行，多发射，内存stall(前端stall和后端stall)等诸多因素，因此除了cpu主频外，还和流水线上的效率(IPC)强相关，比较复杂的一个问题。</p></li></ul> <h2 id="q17：请分析-maxcompute-产品与分布式技术的关系、当前大数据计算平台类产品的市场现状和发展趋势。"><a href="#q17：请分析-maxcompute-产品与分布式技术的关系、当前大数据计算平台类产品的市场现状和发展趋势。" class="header-anchor">#</a> Q17：请分析 MaxCompute 产品与分布式技术的关系、当前大数据计算平台类产品的市场现状和发展趋势。</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：云郎／阿里 MaxCompute 高级产品专家</p> <p><strong>参考答案</strong>：</p> <p>开放性问题，无标准答案。</p> <h2 id="q18：-对大数据平台中的元数据管理是怎么理解的，元数据收集管理体系是怎么样的，会对大数据应用有什么样的影响。"><a href="#q18：-对大数据平台中的元数据管理是怎么理解的，元数据收集管理体系是怎么样的，会对大数据应用有什么样的影响。" class="header-anchor">#</a> Q18： 对大数据平台中的元数据管理是怎么理解的，元数据收集管理体系是怎么样的，会对大数据应用有什么样的影响。</h2> <p><strong>出题人</strong>： 阿里巴巴出题专家：映泉／阿里巴巴高级技术专家</p> <p><strong>参考答案</strong>：开放性问题，无标准答案。</p> <h2 id="q19：-你理解常见如阿里，和友商大数据平台的技术体系差异以及发展趋势和技术瓶颈，在存储和计算两个方面进行概述。"><a href="#q19：-你理解常见如阿里，和友商大数据平台的技术体系差异以及发展趋势和技术瓶颈，在存储和计算两个方面进行概述。" class="header-anchor">#</a> Q19： 你理解常见如阿里，和友商大数据平台的技术体系差异以及发展趋势和技术瓶颈，在存储和计算两个方面进行概述。</h2> <p><strong>出题人</strong>： 阿里巴巴出题专家：映泉／阿里巴巴高级技术专家</p> <p><strong>参考答案</strong>：开放性问题，无标准答案。</p> <h2 id="q20：在云计算大数据处理场景中，每天运行着成千上万的任务，每个任务都要进行-io-读写。存储系统为了更好的服务，经常会保证高优先级的任务优先执行。当多个作业或用户访问存储系统时，如何保证优先级和公平性。"><a href="#q20：在云计算大数据处理场景中，每天运行着成千上万的任务，每个任务都要进行-io-读写。存储系统为了更好的服务，经常会保证高优先级的任务优先执行。当多个作业或用户访问存储系统时，如何保证优先级和公平性。" class="header-anchor">#</a> Q20：在云计算大数据处理场景中，每天运行着成千上万的任务，每个任务都要进行 IO 读写。存储系统为了更好的服务，经常会保证高优先级的任务优先执行。当多个作业或用户访问存储系统时，如何保证优先级和公平性。</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：田磊磊／阿里云文件存储高级技术专家</p> <p><strong>参考答案</strong>：开放性问题，无标准答案。</p> <h2 id="q21：最大频率栈。"><a href="#q21：最大频率栈。" class="header-anchor">#</a> Q21：最大频率栈。</h2> <p>实现 FreqStack，模拟类似栈的数据结构的操作的一个类。FreqStack 有两个函数：
push(int x)，将整数 x 推入栈中。pop()，它移除并返回栈中出现最频繁的元素。如果最频繁的元素不只一个，则移除并返回最接近栈顶的元素。
◼ 示例：
push [5,7,5,7,4,5]
pop() -&gt; 返回 5，因为 5 是出现频率最高的。
栈变成
[5,7,5,7,4]。
pop() -&gt; 返回 7，因为 5 和 7 都是频率最高的，但 7 最接近栈
顶。
栈变成 [5,7,5,4]。
pop() -&gt; 返回 5 。
栈变成 [5,7,4]。
pop() -&gt; 返回 4 。
栈变成 [5,7]。</p> <p><strong>出题人</strong>：阿里巴巴出题专家：屹平／阿里云视频云边缘计算高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>令 freq 作为 x 的出现次数的映射 Map。</p> <p>此外 maxfreq，即栈中任意元素的当前最大频率，因为我们必须弹出频率最高的元素。</p> <p>当前主要的问题就变成了：在具有相同的（最大）频率的元素中，怎么判断那个元素是最新的？我们可以使用栈来查询这一信息：靠近栈顶的元素总是相对更新一些。</p> <p>为此，我们令 group 作为从频率到具有该频率的元素的映射。到目前，我们已经实现了 FreqStack 的所有必要的组件。</p> <p>算法：</p> <p>实际上，作为实现层面上的一点细节，如果 x 的频率为 f，那么我们将获取在所有 group[i] (i &lt;= f) 中的 x,而不仅仅是栈顶的那个。这是因为每个 group[i] 都会存储与第 i 个 x 副本相关的信息。</p> <p>最后，我们仅仅需要如上所述维持 freq，group，以及 maxfreq。</p> <p><strong>参考代码</strong>：</p> <div class="language- extra-class"><pre class="language-text"><code>class FreqStack {
    Map&lt;Integer, Integer&gt; freq;
    Map&lt;Integer, Stack&lt;Integer&gt;&gt; group;
    int maxfreq;

    public FreqStack() {
        freq = new HashMap();
        group = new HashMap();
        maxfreq = 0;
    }
    
    public void push(int x) {
        int f = freq.getOrDefault(x, 0) + 1;
        freq.put(x, f);
        if (f &gt; maxfreq) maxfreq = f;
        group.computeIfAbsent(f, z-&gt; new Stack()).push(x);
    }
    
    public int pop() {
        int x = group.get(maxfreq).pop();
        freq.put(x, freq.get(x) - 1);
        if (group.get(maxfreq).size() == 0)
        maxfreq--;
        return x;
    }
}
</code></pre></div><h2 id="q22：给定一个链表，删除链表的倒数第-n-个节点，并且返回链表的头结点。"><a href="#q22：给定一个链表，删除链表的倒数第-n-个节点，并且返回链表的头结点。" class="header-anchor">#</a> Q22：给定一个链表，删除链表的倒数第 N 个节点，并且返回链表的头结点。</h2> <p>◼ 示例：
给定一个链表: 1-&gt;2-&gt;3-&gt;4-&gt;5, 和 n = 2.
当删除了倒数第二个节点后，链表变为 1-&gt;2-&gt;3-&gt;5.
说明：
给定的 n 保证是有效的。
要求：
只允许对链表进行一次遍历。</p> <p><strong>出题人</strong>：阿里巴巴出题专家：屹平／阿里云视频云边缘计算高级技术专家</p> <p><strong>参考答案</strong>：</p> <p>我们可以使用两个指针而不是一个指针。第一个指针从列表的开头向前移动 n+1 步，而第二个指针将从列表的开头出发。现在，这两个指针被 n 个结点分开。我们通过同时移动两个指针向前来保持这个恒定的间隔，直到第一个指针到达最后一个结点。此时第二个指针将指向从最后一个结点数起的第 n 个结点。我们重新链接第二个指针所引用的结点的 next 指针指向该结点的下下个结点。</p> <p><strong>参考代码</strong>：</p> <div class="language- extra-class"><pre class="language-text"><code>public ListNode removeNthFromEnd(ListNode head, int n)
{
    ListNode dummy = new ListNode(0);
    dummy.next = head;
    ListNode first = dummy;
    ListNode second = dummy;
    // Advances first pointer so that the gap between first
    and second is n nodes apart
    for (int i = 1; i &lt;= n + 1; i++) {
        first = first.next;
    }
    // Move first to the end, maintaining the gap
    while (first != null) {
        first = first.next;
        second = second.next;
    }
    second.next = second.next.next;
    return dummy.next;
}
</code></pre></div><p><strong>复杂度分析：</strong></p> <ul><li><p>时间复杂度：O(L)，该算法对含有 L 个结点的列表进行了一次遍历。因此时间复杂度为 O(L)。</p></li> <li><p>空间复杂度：O(1)，我们只用了常量级的额外空间。</p></li></ul> <h2 id="q23：如果让你设计一个通用的、支持各种数据库秒级备份和恢复的系统，你会如何设计？"><a href="#q23：如果让你设计一个通用的、支持各种数据库秒级备份和恢复的系统，你会如何设计？" class="header-anchor">#</a> Q23：如果让你设计一个通用的、支持各种数据库秒级备份和恢复的系统，你会如何设计？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：千震／阿里云数据库高级技术专家</p> <p><strong>参考答案</strong>：开放性问题，无标准答案。</p> <h2 id="q24：如果让你来设计一个支持数据库、nosql-和大数据之间数据实时流动的数据流及处理的系统，你会考虑哪些问题？如何设计？"><a href="#q24：如果让你来设计一个支持数据库、nosql-和大数据之间数据实时流动的数据流及处理的系统，你会考虑哪些问题？如何设计？" class="header-anchor">#</a> Q24：如果让你来设计一个支持数据库、NOSQL 和大数据之间数据实时流动的数据流及处理的系统，你会考虑哪些问题？如何设计？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：千震／阿里云数据库高级技术专家</p> <p><strong>参考答案</strong>：开放性问题，无标准答案。</p> <h2 id="q25：给定一个整数数组和一个整数，返回两个数组的索引，这两个索引指向的数字的加和等于指定的整数。需要最优的算法，分析算法的空间和时间复杂度"><a href="#q25：给定一个整数数组和一个整数，返回两个数组的索引，这两个索引指向的数字的加和等于指定的整数。需要最优的算法，分析算法的空间和时间复杂度" class="header-anchor">#</a> Q25：给定一个整数数组和一个整数，返回两个数组的索引，这两个索引指向的数字的加和等于指定的整数。需要最优的算法，分析算法的空间和时间复杂度</h2> <p><strong>参考答案</strong>：</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>nums<span class="token operator">==</span><span class="token keyword">null</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length<span class="token operator">&lt;</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
 
    <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>target<span class="token operator">-</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
 
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>分析：空间复杂度和时间复杂度均为 O(n)</p> <h2 id="q26：假如给你一个新产品，你将从哪些方面来保障它的质量？"><a href="#q26：假如给你一个新产品，你将从哪些方面来保障它的质量？" class="header-anchor">#</a> Q26：假如给你一个新产品，你将从哪些方面来保障它的质量？</h2> <p><strong>出题人</strong>：阿里巴巴出题专家：晨晖 ／阿里云中间件技术部测试开发专家</p> <p><strong>参考答案</strong>：</p> <p>可以从代码开发、测试保障、线上质量三个方面来保障。</p> <p>在代码开发阶段，有单元测试、代码Review、静态代码扫描等；</p> <p>测试保障阶段，有功能测试、性能测试、高可用测试、稳定性测试、兼容性测试等；</p> <p>在线上质量方面，有灰度发布、紧急回滚、故障演练、线上监控和巡检等。</p> <h2 id="q27：请评估一下程序的执行结果？"><a href="#q27：请评估一下程序的执行结果？" class="header-anchor">#</a> Q27：请评估一下程序的执行结果？</h2> <div class="language- extra-class"><pre class="language-text"><code>public class SynchronousQueueQuiz {
    public static void main(String[] args) throws Exception {
        BlockingQueue&lt;Integer&gt; queue = new
        SynchronousQueue&lt;&gt;();
        System. out .print(queue.offer(1) + &quot; &quot;);
        System. out .print(queue.offer(2) + &quot; &quot;);
        System. out .print(queue.offer(3) + &quot; &quot;);
        System. out .print(queue.take() + &quot; &quot;);
        System. out .println(queue.size());
    }
}

</code></pre></div><p>A. true true true 1 3</p> <p>B. true true true (阻塞)</p> <p>C. false false false null 0</p> <p>D. false false false (阻塞)</p> <p><strong>出题人</strong>：阿里巴巴出题专家：桃谷／阿里云中间件技术专家</p> <p><strong>参考答案</strong>：D</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/ViktorWong/Full-Stack-Library/edit/master/docs/Interviews/Alibaba.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">8/11/2019, 5:58:27 PM</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Interviews/" class="router-link-active">
          00.数据库篇
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.a9b48c8f.js" defer></script><script src="/assets/js/14.03a2b796.js" defer></script>
  </body>
</html>
